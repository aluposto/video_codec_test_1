# Cell 1: install compiler toolchain + distutils into your active conda env
# (uses conda on PATH which you just added)
import subprocess, sys

cmd = "conda install -y -c conda-forge gcc_linux-64 gxx_linux-64 python-distutils-lite pybind11 cython"
print("Running:", cmd)
proc = subprocess.run(cmd, shell=True, capture_output=True, text=True)
print("returncode:", proc.returncode)
print("--- stdout (first 2000 chars) ---")
print(proc.stdout[:2000])
print("--- stderr (first 2000 chars) ---")
print(proc.stderr[:2000])

if proc.returncode != 0:
    raise RuntimeError("Conda install failed. Paste the above stderr if you want help.")
else:
    print("Conda install finished successfully. Proceed to build step.")


Running: conda install -y -c conda-forge gcc_linux-64 gxx_linux-64 python-distutils-lite pybind11 cython
returncode: 1
--- stdout (first 2000 chars) ---
Channels:
 - conda-forge
 - defaults
Platform: linux-64
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... failed

--- stderr (first 2000 chars) ---

PackagesNotFoundError: The following packages are not available from current channels:

  - python-distutils-lite

Current channels:

  - https://conda.anaconda.org/conda-forge
  - https://repo.anaconda.com/pkgs/main
  - https://repo.anaconda.com/pkgs/r

To search for alternate channels that may provide the conda package you're
looking for, navigate to

    https://anaconda.org

and use the search bar at the top of the page.



---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)
Cell In[32], line 15
     12 print(proc.stderr[:2000])
     14 if proc.returncode != 0:
---> 15     raise RuntimeError("Conda install failed. Paste the above stderr if you want help.")
     16 else:
     17     print("Conda install finished successfully. Proceed to build step.")

RuntimeError: Conda install failed. Paste the above stderr if you want help.
