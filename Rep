# Cell A: write a small Python script, then run it with PYTHONPATH set
test_code = r'''
import traceback
try:
    from src.models.video_model import DMC
    print("SUCCESS: subprocess can import src.models.video_model.DMC")
    import inspect
    try:
        print("DMC.__init__ signature:", inspect.signature(DMC.__init__))
    except Exception as e:
        print("Could not get signature:", e)
except Exception:
    print("IMPORT FAILED in subprocess. Full traceback:")
    traceback.print_exc()
'''
open("test_import_subprocess.py", "w").write(test_code)

# Run it in a subprocess with PYTHONPATH set so the child process can import `src`
import os
print("Running test_import_subprocess.py with PYTHONPATH set to repo root...")
!PYTHONPATH=$PWD python test_import_subprocess.py
